import sqlite3

# Function to prompt the user if they want to share a story
def prompt_user_to_share_story():
    while True:
        choice = input("Do you want to share a story? (yes/no): ").lower()
        if choice in ['yes', 'y']:
            return True
        elif choice in ['no', 'n']:
            return False
        else:
            print("Invalid input. Please enter 'yes' or 'no'.")

# Function to input the user's story
def input_user_story():
    story = input("Enter your story: ")
    return story

# Function to save the story in the database
def save_story_in_database(story):
    connection = sqlite3.connect("stories.db")
    cursor = connection.cursor()

    # Create the table if it doesn't exist
    cursor.execute('''CREATE TABLE IF NOT EXISTS stories
                      (id INTEGER PRIMARY KEY AUTOINCREMENT, story TEXT)''')

    # Insert the story into the database
    cursor.execute("INSERT INTO stories (story) VALUES (?)", (story,))
    connection.commit()

    # Close the database connection
    connection.close()

def main():
    if prompt_user_to_share_story():
        user_story = input_user_story()
        save_story_in_database(user_story)
        print("Your story has been saved in the database.")
    else:
        print("Okay, maybe next time!")

if __name__ == "__main__":
    main()

